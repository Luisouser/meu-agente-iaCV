<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Consulente CV / Career Bot</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Roboto', sans-serif;
  background: #f0f4f8;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
}

h1 {
  color: #0056b3;
  text-align: center;
  margin-bottom: 20px;
}

#chat {
  width: 100%;
  max-width: 600px;
  height: 450px;
  background: #fff;
  border-radius: 15px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  overflow-y: auto;
  padding: 20px;
  margin-bottom: 10px;
  display: flex;
  flex-direction: column;
}

.message {
  margin: 10px 0;
  padding: 12px 15px;
  border-radius: 12px;
  max-width: 80%;
  display: inline-block;
  animation: fadeIn 0.3s ease-in;
}

.user { 
  background: #cfe2ff;
  align-self: flex-end;
}

.bot { 
  background: #d9f0e1;
  align-self: flex-start;
}

.card {
  background: #fff8dc;
  padding: 10px;
  margin: 5px 0;
  border-left: 5px solid #ffd700;
  border-radius: 8px;
}

#input-container {
  width: 100%;
  max-width: 600px;
  display: flex;
}

input {
  flex: 1;
  padding: 12px;
  border-radius: 8px 0 0 8px;
  border: 1px solid #ccc;
  outline: none;
}

button {
  padding: 12px 20px;
  background: #0056b3;
  color: white;
  border: none;
  border-radius: 0 8px 8px 0;
  cursor: pointer;
}

button:hover { background: #004494; }

@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity: 1;}
}
</style>
</head>
<body>

<h1>Consulente CV / Career Bot ðŸ‡®ðŸ‡¹ðŸ‡§ðŸ‡·</h1>
<div id="chat"></div>

<div id="input-container">
  <input type="text" id="input" placeholder="Digite sua mensagem / Scrivi qui">
  <button id="sendBtn">Invia / Enviar</button>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");
const sendBtn = document.getElementById("sendBtn");

const AGENT_ENDPOINT = "COLE_AQUI_O_ENDPOINT_DO_SEU_AGENTE"; // substitua
const API_TOKEN = "COLE_AQUI_SEU_TOKEN"; // substitua

function addMessage(text, sender, isCard=false) {
  const div = document.createElement("div");
  div.className = sender + (isCard ? " card" : "");
  div.innerHTML = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

async function sendMessage() {
  const message = input.value.trim();
  if (!message) return;

  addMessage(message, "user");
  input.value = "";

  try {
    const response = await fetch(AGENT_ENDPOINT, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": "Bearer " + API_TOKEN
      },
      body: JSON.stringify({ input: message })
    });

    const data = await response.json();
    addMessage(`ðŸ“Œ SugestÃ£o CV / Europass:<br>${data.output || "Sem resposta"}`, "bot", true);

  } catch (err) {
    addMessage("Erro ao conectar ao agente", "bot");
  }
}

// BotÃ£o Enviar
sendBtn.addEventListener("click", sendMessage);

// Enter envia mensagem
input.addEventListener("keypress", function(e) {
  if (e.key === "Enter") {
    e.preventDefault();
    sendMessage();
  }
});
</script>

</body>
</html>
